

sudo docker ps
sudo docker images

pip install pandas pyarrow
pip install uv

uv init --python=3.14

uv run which python  # Python in the virtual environment
uv run python -V

which python        # System Python
python3 -V

uv add pandas pyarrow

uv run python pipeline.py 10

-- basic pipeline
sudo docker build --file Dockerfile_SNAPSHOT-01  -t test-pandas:SNAPSHOT-01 .


sudo docker run -it test-pandas:SNAPSHOT-01 300


mkdir resource/postgre-data
chmod -R 777 resource

pip install "psycopg[binary]"


sudo docker run -it --rm \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v postgre-data:/var/lib/postgresql \
  -p 5432:5432 \
  postgres:18


  sudo docker run -it --name db_pandatest --rm \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v postgre-data:/var/lib/postgresql \
  -p 5432:5432 \
  postgres:18

uv add "psycopg[binary]"
uv add --dev pgcli



uv run pgcli -h localhost -p 5432 -u root -d ny_taxi


CREATE TABLE test (id INTEGER, name VARCHAR(50));
INSERT INTO test VALUES (1, 'Hello Docker');
SELECT * FROM test;

 sudo docker run -it --name db_pandatest --rm \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v postgre-data1:/var/lib/postgresql \
  -p 5432:5432 \
  postgres:18


  docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -v pgadmin_data:/var/lib/pgadmin \
  -p 8085:80 \
  --network=pg-network \
  --name pgadmin \
  dpage/pgadmin4





Error: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate
Fix: Run /Applications/Python\ 3*/Install\ Certificates.command


uv add --dev jupyter 
uv run jupyter notebook

!uv add tdqm


uv run jupyter nbconvert --to=script sample-notebook-jupiter.ipynb

uv run python new_ingest_data.py

uv run python new_ingest_data.py \
  --db-user root --db-password root --db-server localhost --db-port 5432 \
  --db-name ny_taxi --db-table yellow_taxi_trips --year 2021 --month 1




sudo docker network create pg-network

sudo docker run -it --name db_pandatest --rm \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v postgre-data1:/var/lib/postgresql \
  -p 5432:5432 \
  --network=pg-network \
  postgres:18  

 sudo docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -v pgadmin_data:/var/lib/pgadmin \
  -p 8085:80 \
  --network=pg-network \
  --name pgadmin \
  dpage/pgadmin4


 sudo docker build --file Dockerfile_taxi_ingest_v001  -t taxi_ingest:v001 .


 docker run -it \
  --network=docker-postgresql_default \
  taxi_ingest:v001 \
    --db-user=root \
    --db-password=root \
    --db-server=db_pandatest \
    --db-port=5432 \
    --db-name=ny_taxi \
    --db-table=yellow_taxi_trips_202107 \
    --year=2021 \
    --month=7


    HOMEWORK
    -------------

  sudo docker build --file Dockerfile_taxi_ingest_v002  -t taxi_ingest:v002 .

  docker run -it \
  --network=docker-postgresql_default \
  taxi_ingest:v002 \
    --db-user=root \
    --db-password=root \
    --db-server=db_pandatest \
    --db-port=5432 \
    --db-name=ny_taxi \
    --db-table=green_tripdata_202511 \
    --db-zone-table=taxi_zone_lookup \
    --year=2025 \
    --month=11